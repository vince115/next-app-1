(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[484],{1476:function(e,n,r){Promise.resolve().then(r.bind(r,98579))},98579:function(e,n,r){"use strict";r.r(n);var t=r(57437);r(2265);var i=r(43515),o=r(66058),s=r(22960),a=r(16463),l=r(55697),d=r(28027);let c=[{id:"credentials",name:"Email and password"}];n.default=()=>{let e=(0,s.Z)(),n=(0,a.useRouter)(),r=async(e,r)=>{if("credentials"===e.id){let e=null==r?void 0:r.get("email"),t=null==r?void 0:r.get("password");console.log("Submitting credentials:",{email:e,password:t});try{let r=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,password:t})});if(!r.ok){console.error("Failed to sign in: ".concat(r.status," - ").concat(r.statusText));let e=await r.text();return console.error("Error response body:",e),{type:"CredentialsSignin",error:"Invalid credentials"}}let i=r.headers.get("Content-Type");if(!(i&&i.includes("application/json")))return console.error("Unexpected response format:",i),{type:"CredentialsSignin",error:"Unexpected response format"};{let e=await r.json();return localStorage.setItem("token",e.token),n.push("/Protected"),{type:"CredentialsSignin"}}}catch(e){return console.error("Error during sign in:",e),{type:"CredentialsSignin",error:"An error occurred during sign in"}}}return{type:"CredentialsSignin",error:"Unknown provider"}};return(0,t.jsx)(l.default,{children:(0,t.jsx)(d.default,{className:"m-2 p-2 pb-[4rem] ",children:(0,t.jsx)(i.wI,{theme:e,children:(0,t.jsx)(o.F,{signIn:r,providers:c})})})})}}},function(e){e.O(0,[565,10,537,778,643,177,235,507,694,971,23,744],function(){return e(e.s=1476)}),_N_E=e.O()}]);